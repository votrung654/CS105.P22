<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Museum - Bảo Tàng 3D</title>
    <link rel="stylesheet" href="src/styles/main.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loading-content">
            <h1>3D Museum</h1>
            <div class="loading-spinner"></div>
            <div class="loading-progress">
                <div id="loading-bar"></div>
            </div>
            <p id="loading-text">Đang khởi tạo bảo tàng...</p>
        </div>
    </div>

    <!-- Main Canvas -->
    <canvas id="museum-canvas"></canvas>

    <!-- Info Panel -->
    <div id="info-panel" style="display:none;">
        <button class="close-btn" id="close-info-panel">&times;</button>
        <h2 id="artifact-title"></h2>
        <p id="artifact-description"></p>
        <div class="info-actions">
            <button class="action-btn" id="play-audio-description">🔊 Nghe mô tả</button>
            <button class="action-btn" id="fullscreen-artifact">🔍 Xem toàn màn hình</button>
        </div>
    </div>

    <!-- Mini Map -->
    <div id="mini-map-container">
        <h3>Bản đồ</h3>
        <canvas id="mini-map-canvas"></canvas>
        <div class="map-legend">
            <div class="legend-item">
                <div class="legend-color player"></div>
                <span>Bạn</span>
            </div>
            <div class="legend-item">
                <div class="legend-color artifact"></div>
                <span>Hiện vật</span>
            </div>
        </div>
    </div>

    <!-- Controls Hint -->
    <div id="controls-hint">
        <div class="controls-content">
            <h4>🎮 Điều khiển nhanh</h4>
            <p><kbd>W</kbd>↑ <kbd>A</kbd>← <kbd>S</kbd>↓ <kbd>D</kbd>→ Di chuyển | <kbd>Mouse</kbd> Xoay góc nhìn</p>
            <p><kbd>Click</kbd> Tương tác hiện vật | <kbd>Shift</kbd> Chạy nhanh</p>
            <p><kbd>H</kbd> Hướng dẫn | <kbd>M</kbd> Bản đồ | <kbd>ESC</kbd> Cài đặt | <kbd>F</kbd> Toàn màn hình</p>
        </div>
    </div>

    <!-- ...existing code... -->

    <!-- Settings Menu -->
    <div id="settings-menu" style="display: none;">
        <div class="settings-content">
            <h2>⚙️ Cài đặt</h2>
            
            <div class="setting-item">
                <label for="mouse-sensitivity">
                    🖱️ Độ nhạy chuột: <span id="sensitivity-value">1.0</span>
                </label>
                <input type="range" id="mouse-sensitivity" min="0.1" max="3.0" step="0.1" value="1.0">
                <div class="setting-hint">Điều chỉnh độ nhạy khi di chuyển chuột</div>
            </div>
            
            <div class="setting-item">
                <label for="movement-speed">
                    🏃 Tốc độ di chuyển: <span id="speed-value">5.0</span>
                </label>
                <input type="range" id="movement-speed" min="1.0" max="10.0" step="0.1" value="5.0">
                <div class="setting-hint">Tốc độ di chuyển trong bảo tàng (Shift để chạy nhanh)</div>
            </div>
            
            <div class="setting-item">
                <label>
                    <input type="checkbox" id="audio-enabled" checked>
                    🔊 Bật âm thanh
                </label>
                <div class="setting-hint">Âm thanh mô tả hiện vật</div>
            </div>
            
            <div class="settings-actions">
                <button class="action-btn secondary" id="reset-settings">🔄 Reset</button>
                <button class="action-btn" id="close-settings">✅ Đóng</button>
            </div>
        </div>
    </div>

    <!-- ...rest of existing code... -->

    <!-- Error Message -->
    <div id="error-message" style="display: none;">
        <div class="error-content">
            <h2>Lỗi</h2>
            <p id="error-text">Đã xảy ra lỗi không mong muốn.</p>
            <button class="action-btn" id="retry-btn">Thử lại</button>
        </div>
    </div>

    <script type="module" src="src/main.js"></script>
</body>
</html>